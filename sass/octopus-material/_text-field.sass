input.text-input, .text-input input
  background: transparent
  padding: 0
  border: none
  outline: 0

.text-input
  display: flex
  flex-direction: row
  align-items: flex-end

  &, input
    box-sizing: content-box
    border: 0
    outline: 0
    padding: 0
    resize: none
    background: transparent
    font-size: $text-input-font-size
    font-weight: $text-input-font-weight
    text-align: left

  .text-input-icon
    margin-bottom: $text-field-item-margin

  input, .placeholder, .text-input-value
    flex-grow: 1
    + .text-input-icon
      margin-left: $text-field-item-margin


.placeholder
  color: $text-low-contrast

input.text-input
  +vertical-padding($text-field-item-margin)

.text-input-group
  display: flex
  flex-direction: row
  align-items: center
  .text-input
    flex-grow: 1

.text-input-icon
  +size($base-icon-size)
  font-size: $base-icon-size
  color: $text-low-contrast
  text-align: center

  & + .text-input
    margin-left: 16px

.text-input-prefix, .text-input-suffix
  color: $text-lower-contrast

.text-input-prefix
  margin-right: $text-field-item-margin

.text-input-suffix
  margin-left: $text-field-item-margin


.error-text
  color: $text-field-invalid-color
  font-size: $error-text-font-size
  line-height: $text-field-item-height
  +vertical-padding($error-text-vertical-padding)
  font-style: normal

.text-field
  display: flex
  flex-direction: column-reverse
  padding-top: $text-field-item-margin
  padding-bottom: $text-field-bottom-padding

  .error-text
    display: none
    margin-bottom: -$text-field-bottom-padding

  .text-input
    border-bottom: $text-field-divider-width solid $text-field-divider-color
    &:hover
      border-bottom: $text-field-divider-focus-hover-width solid $text-field-divider-hover-color
      margin-bottom: $text-field-focus-hover-margin
    &:focus
      border-bottom: $text-field-divider-focus-hover-width solid $text-field-focus-color
      margin-bottom: $text-field-focus-hover-margin
      & + label
        color: $text-field-focus-color
    &:disabled
      color: $text-lower-contrast
      border-bottom: $text-field-divider-width dashed $text-field-divider-color
      margin-bottom: 0

    input, .placeholder, .text-input-value
      +vertical-margin($text-field-item-margin)

  .text-input-prefix, .text-input-suffix
    margin-bottom: $text-field-item-margin

  label
    padding-top: $text-field-item-margin
    line-height: $text-field-item-height
    color: $text-field-label-font-color
    font-size: $text-field-label-font-size
    font-weight: $text-field-label-font-weight

  &.focus
    .text-input
      border-bottom: $text-field-divider-focus-hover-width solid $text-field-focus-color
      margin-bottom: $text-field-focus-hover-margin
    label
      color: $text-field-focus-color

  &.invalid, &.focus.invalid
    .text-input
      border-color: $text-field-invalid-color
    label
      color: $text-field-invalid-color
    .error-text
      display: block

  &.disabled
    label
      color: $text-lower-contrast

    .text-input
      color: $text-lower-contrast
      border-bottom: $text-field-divider-width dashed $text-field-divider-color
      margin-bottom: 0

.floating-label
  label
    font-size: $text-input-font-size
    transform: translate3d(0, 24px, 0)
    transition: transform 150ms, font-size 150ms
  .text-field, input
    z-index: 5

  &.focus label,
  &.not-empty label,
  .text-input:focus + label,
  .text-input:not(:placeholder-shown) + label,
  input:focus + label,
  input:not(:placeholder-shown) + label
    font-size: $text-field-label-font-size
    transform: none

  input::placeholder
    color: rgba(0,0,0,0)
    transition: color 150ms
    transition-timing-function: ease-out
  &.focus input::placeholder, input:focus::placeholder
    color: rgba(0,0,0,.54)
    transition-timing-function: ease-in

.text-field
  &.focus label,
  &.not-empty label
    font-size: $text-field-label-font-size
    transform: none

input:not(:placeholder-shown) + label,
input:focus + label
  font-size: $text-field-label-font-size
  transform: none

.text-area
  background: transparent
  border: $text-area-border-width solid $text-area-divider-color
  border-radius: $text-area-border-radius
  outline: 0
  padding: $text-area-padding - $text-area-border-width
  font-size: $text-area-font-size
  font-weight: $text-area-font-weight
  line-height: $text-area-line-height

  &.focus, &:focus, &:hover
    border-width: $text-area-border-focus-hover-width
    padding: $text-area-padding - $text-area-border-focus-hover-width

  &.focus, &:focus
    border-color: $text-field-focus-color

.text-field-elevated
  @extend .card
  +horizontal-padding(16px)
  display: flex
  align-items: center
  height: $text-field-elevated-height
  .text-input, .text-input-group
    flex-grow: 1

.text-field-box
  position: relative
  display: flex
  flex-direction: column-reverse
  background: rgba(0,0,0,.06)
  padding: 0
  border-radius: $text-field-box-border-radius
  overflow: hidden
  @extend .floating-label

  label
    line-height: 15px
    font-weight: $font-medium
    transform: translate3d(0, $text-field-box-label-transform, 0)
    +horizontal-padding($text-field-box-padding)

  input::placeholder
    color: rgba(0,0,0,0)
    transition: color 150ms
    transition-timing-function: ease-out
  &.focus input::placeholder, input:focus::placeholder
    color: rgba(0,0,0,.54)
    transition-timing-function: ease-in

  &.focus ~ label, input:focus ~ label
    font-weight: $font-regular


  .text-input
    +horizontal-padding($text-field-box-padding)
    padding-bottom: $text-field-box-input-padding-bottom
    border-bottom: $text-field-box-border-width solid $text-field-divider-color
    margin-bottom: 0 !important